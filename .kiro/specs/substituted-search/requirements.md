# 要件定義書

## はじめに

この文書は、共役コア構造に置換基を付加し、STEP1で得られた共役コア構造とのRMSDがほぼ0.0で一致する構造を探索するシステムの要件を定義します。transient localised theoryにより分子振動を最小化し、2D周期境界条件下での構造最適化を通じて最適な置換基付き共役コア構造を見つけることが目的です。

## 要件

### 要件1

**ユーザーストーリー:** 研究者として、CSDから適切な置換基を取得したいので、スクリーニング機能が必要です

#### 受入基準

1. WHEN CSDデータベースにアクセスするTHEN システムは置換基候補を抽出できること
2. WHEN スクリーニング条件を設定するTHEN システムは条件に合致する置換基をフィルタリングできること
3. WHEN 置換基データを取得するTHEN システムは構造情報を適切な形式で保存できること

### 要件2

**ユーザーストーリー:** 研究者として、共役コアの結合部分を選択したいので、結合位置の決定機能が必要です

#### 受入基準

1. WHEN 共役コア構造を読み込むTHEN システムは可能な結合位置を特定できること
2. WHEN 結合位置を選択するTHEN システムは1箇所または複数箇所の選択に対応できること
3. WHEN 結合位置が決定されるTHEN システムは座標情報を記録できること

### 要件3

**ユーザーストーリー:** 研究者として、共役コアを固定して置換基を結合したいので、構造結合機能が必要です

#### 受入基準

1. WHEN 共役コアの座標を固定するTHEN システムは座標を変更せずに維持できること
2. WHEN 置換基を結合するTHEN システムは概算の結合長と角度で接続できること（後の構造最適化で調整される前提）
3. WHEN 結合後の構造を生成するTHEN システムは簡単な構造最適化を実行できること

### 要件4

**ユーザーストーリー:** 研究者として、RESP電荷を計算したいので、Gaussian計算とantechamber処理の自動化が必要です

#### 受入基準

1. WHEN 単分子構造を入力するTHEN システムはGaussianで構造最適化を実行できること
2. WHEN Gaussian計算が完了するTHEN システムは電荷計算を実行できること
3. WHEN 電荷計算が完了するTHEN システムはantechamberを使用してRESP電荷を算出できること

### 要件5

**ユーザーストーリー:** 研究者として、2D周期境界条件下で構造最適化を行いたいので、STEP1で開発したコードを再利用した周期境界計算機能が必要です

#### 受入基準

1. WHEN 置換基付き構造を入力するTHEN システムはSTEP1のコードを使用して2D周期境界条件を設定できること
2. WHEN 境界条件が設定されるTHEN システムは既存の構造最適化コードを実行できること
3. WHEN 最適化が完了するTHEN システムは最適化された構造を出力できること

### 要件6

**ユーザーストーリー:** 研究者として、共役コア部分のRMSDを評価したいので、RMSD計算機能が必要です

#### 受入基準

1. WHEN STEP1の参照構造と最適化後構造を比較するTHEN システムは共役コア部分を抽出できること
2. WHEN 共役コア部分が抽出されるTHEN システムはRMSDを計算できること
3. WHEN RMSDが0.0に近いTHEN システムは適合する構造として記録できること

### 要件7

**ユーザーストーリー:** 研究者として、計算結果を管理したいので、結果保存と進捗管理機能が必要です

#### 受入基準

1. WHEN 各計算ステップが完了するTHEN システムは結果を適切なファイル形式で保存できること
2. WHEN 複数の置換基候補を処理するTHEN システムは進捗状況を追跡できること
3. WHEN エラーが発生するTHEN システムはエラー情報を記録し、処理を継続できること